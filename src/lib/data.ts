// This file contains the attendance data from the API response
export const attendanceData = {
    courses: {
      "56406": {
        id: 56406,
        si_no: 2,
        name: "COMPUTER ORGANISATION",
        code: "CBT204",
        start_year: null,
        end_year: null,
        institution_id: 32,
        usersubgroup_id: 7553,
        created_by: 6053,
        created_at: "2025-01-28T12:24:04.000000Z",
        updated_at: "2025-01-28T12:24:04.000000Z",
        academic_year: "2024-25",
        academic_semester: "even",
        pre_requisites: null,
        ltp_credits: null,
        reference_docs: null,
        text_books: null,
        course_type_id: 1,
        course_category_id: null,
        deleted_at: null,
        enable_laboratory: null,
      },
      "56407": {
        id: 56407,
        si_no: 3,
        name: "DATABASE MANAGEMENT SYSTEMS",
        code: "CST204",
        start_year: "2024",
        end_year: "2025",
        institution_id: 32,
        usersubgroup_id: 7553,
        created_by: 6053,
        created_at: "2025-01-28T12:24:04.000000Z",
        updated_at: "2025-03-02T09:07:34.000000Z",
        academic_year: "2024-25",
        academic_semester: "even",
        pre_requisites: null,
        ltp_credits: null,
        reference_docs: null,
        text_books: null,
        course_type_id: 1,
        course_category_id: null,
        deleted_at: null,
        enable_laboratory: null,
      },
      "56408": {
        id: 56408,
        si_no: 4,
        name: "OPERATING SYSTEMS",
        code: "CST206",
        start_year: null,
        end_year: null,
        institution_id: 32,
        usersubgroup_id: 7553,
        created_by: 6053,
        created_at: "2025-01-28T12:24:04.000000Z",
        updated_at: "2025-01-28T12:24:04.000000Z",
        academic_year: "2024-25",
        academic_semester: "even",
        pre_requisites: null,
        ltp_credits: null,
        reference_docs: null,
        text_books: null,
        course_type_id: 1,
        course_category_id: null,
        deleted_at: null,
        enable_laboratory: null,
      },
      "56409": {
        id: 56409,
        si_no: 5,
        name: "PROFESSIONAL ETHICS",
        code: "HUT200",
        start_year: null,
        end_year: null,
        institution_id: 32,
        usersubgroup_id: 7553,
        created_by: 6053,
        created_at: "2025-01-28T12:24:05.000000Z",
        updated_at: "2025-01-28T12:24:05.000000Z",
        academic_year: "2024-25",
        academic_semester: "even",
        pre_requisites: null,
        ltp_credits: null,
        reference_docs: null,
        text_books: null,
        course_type_id: 1,
        course_category_id: null,
        deleted_at: null,
        enable_laboratory: null,
      },
      "56410": {
        id: 56410,
        si_no: 6,
        name: "CONSTITUTION OF INDIA",
        code: "MCN202",
        start_year: null,
        end_year: null,
        institution_id: 32,
        usersubgroup_id: 7553,
        created_by: 6053,
        created_at: "2025-01-28T12:24:05.000000Z",
        updated_at: "2025-01-28T12:24:05.000000Z",
        academic_year: "2024-25",
        academic_semester: "even",
        pre_requisites: null,
        ltp_credits: null,
        reference_docs: null,
        text_books: null,
        course_type_id: 9,
        course_category_id: null,
        deleted_at: null,
        enable_laboratory: null,
      },
    },
    sessions: {
      "219": {
        id: 219,
        name: "I",
        time_from: null,
        time_to: null,
        view_order: "1",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "220": {
        id: 220,
        name: "II",
        time_from: null,
        time_to: null,
        view_order: "2",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "221": {
        id: 221,
        name: "III",
        time_from: null,
        time_to: null,
        view_order: "3",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "222": {
        id: 222,
        name: "IV",
        time_from: null,
        time_to: null,
        view_order: "4",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "223": {
        id: 223,
        name: "V",
        time_from: null,
        time_to: null,
        view_order: "5",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "224": {
        id: 224,
        name: "VI",
        time_from: null,
        time_to: null,
        view_order: "6",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
      "225": {
        id: 225,
        name: "VII",
        time_from: null,
        time_to: null,
        view_order: "7",
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: "2022-10-19T10:17:10.000000Z",
        type: null,
      },
    },
    attendanceTypes: {
      "110": {
        id: 110,
        name: "Present",
        code: "P",
        color: "success",
        view_order: "0",
        positive_report_value: 1,
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: null,
      },
      "111": {
        id: 111,
        name: "Absent",
        code: "AB",
        color: "danger",
        view_order: "0",
        positive_report_value: 0,
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: null,
      },
      "112": {
        id: 112,
        name: "Leave",
        code: "L",
        color: "secondary",
        view_order: "0",
        positive_report_value: 0,
        institution_id: 32,
        deleted_at: null,
        created_at: null,
        updated_at: null,
      },
      "225": {
        id: 225,
        name: "Duty Leave",
        code: "D",
        color: null,
        view_order: "0",
        positive_report_value: 1,
        institution_id: 32,
        deleted_at: null,
        created_at: "2022-11-25T03:53:08.000000Z",
        updated_at: "2022-11-25T03:53:08.000000Z",
      },
    },
    studentAttendanceData: {
      "20250404": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56409,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250402": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56409,
          attendance: 110,
        },
        "222": {
          course: 56407,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250401": {
        "219": {
          course: 56408,
          attendance: 110,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: 56408,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250328": {
        "219": {
          course: 56408,
          attendance: 110,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56409,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250327": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: null,
          attendance: null,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250325": {
        "219": {
          course: 56408,
          attendance: 110,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: 56408,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250324": {
        "219": {
          course: 56407,
          attendance: 110,
        },
        "220": {
          course: 56407,
          attendance: 110,
        },
        "221": {
          course: 56406,
          attendance: 110,
        },
        "222": {
          course: 56410,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250320": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56406,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250318": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: null,
          attendance: null,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250313": {
        "219": {
          course: 56408,
          attendance: 110,
        },
        "220": {
          course: 56407,
          attendance: 110,
        },
        "221": {
          course: 56407,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250312": {
        "219": {
          course: 56407,
          attendance: 110,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: null,
          attendance: null,
        },
        "222": {
          course: 56407,
          attendance: 110,
        },
        "223": {
          course: 56407,
          attendance: 110,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250311": {
        "219": {
          course: 56408,
          attendance: 110,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: 56408,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: 56407,
          attendance: 111,
        },
      },
      "20250310": {
        "219": {
          course: 56407,
          attendance: 110,
        },
        "220": {
          course: 56407,
          attendance: 110,
        },
        "221": {
          course: 56406,
          attendance: 110,
        },
        "222": {
          course: 56410,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250307": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56409,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250306": {
        "219": {
          course: 56407,
          attendance: 110,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: 56406,
          attendance: 110,
        },
        "222": {
          course: 56408,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: 56408,
          attendance: 110,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250305": {
        "219": {
          course: null,
          attendance: null,
        },
        "220": {
          course: null,
          attendance: null,
        },
        "221": {
          course: 56409,
          attendance: 110,
        },
        "222": {
          course: 56407,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250304": {
        "219": {
          course: 56408,
          attendance: 111,
        },
        "220": {
          course: 56406,
          attendance: 110,
        },
        "221": {
          course: 56408,
          attendance: 110,
        },
        "222": {
          course: null,
          attendance: null,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      "20250303": {
        "219": {
          course: 56407,
          attendance: 110,
        },
        "220": {
          course: 56407,
          attendance: 110,
        },
        "221": {
          course: 56406,
          attendance: 110,
        },
        "222": {
          course: 56410,
          attendance: 110,
        },
        "223": {
          course: null,
          attendance: null,
        },
        "224": {
          course: null,
          attendance: null,
        },
        "225": {
          course: null,
          attendance: null,
        },
      },
      // More attendance data...
    },
    attendanceDatesArray: {
      "20250404": {
        key: "20250404",
        date: "4.4.25",
        day: "Friday",
      },
      "20250402": {
        key: "20250402",
        date: "2.4.25",
        day: "Wednesday",
      },
      "20250401": {
        key: "20250401",
        date: "1.4.25",
        day: "Tuesday",
      },
      // More dates...
    },
  }
  
  // Helper functions to process the attendance data
  
  // Get attendance summary for a specific course or all courses
  export function getAttendanceSummary(courseId = "all") {
    let present = 0
    let absent = 0
    let total = 0
    let dutyLeave = 0
  
    Object.values(attendanceData.studentAttendanceData).forEach((dateData) => {
      Object.values(dateData).forEach((sessionData) => {
        if (sessionData.course && sessionData.attendance) {
          if (courseId === "all" || sessionData.course.toString() === courseId) {
            total++
  
            if (sessionData.attendance === 110) {
              present++
            } else if (sessionData.attendance === 111) {
              absent++
            } else if (sessionData.attendance === 225) {
              dutyLeave++
            }
          }
        }
      })
    })
  
    const percentage = total > 0 ? ((present + dutyLeave) / total) * 100 : 0
  
    return {
      present,
      absent,
      dutyLeave,
      total,
      percentage: Math.round(percentage * 10) / 10,
    }
  }
  
  // Get attendance data by course
  export function getAttendanceByCourseSummary() {
    const courseAttendance: Record<
      string,
      { present: number; absent: number; dutyLeave: number; total: number; percentage: number }
    > = {}
  
    Object.entries(attendanceData.courses).forEach(([courseId, course]) => {
      courseAttendance[courseId] = getAttendanceSummary(courseId)
    })
  
    return courseAttendance
  }
  
  // Get attendance data by date
  export function getAttendanceByDate(courseId = "all") {
    const dateAttendance: Record<
      string,
      { present: number; absent: number; dutyLeave: number; total: number; date: string; day: string }
    > = {}
  
    Object.entries(attendanceData.studentAttendanceData).forEach(([dateKey, dateData]) => {
      const dateInfo = attendanceData.attendanceDatesArray[dateKey]
      if (!dateInfo) return
  
      dateAttendance[dateKey] = {
        present: 0,
        absent: 0,
        dutyLeave: 0,
        total: 0,
        date: dateInfo.date,
        day: dateInfo.day,
      }
  
      Object.values(dateData).forEach((sessionData) => {
        if (sessionData.course && sessionData.attendance) {
          if (courseId === "all" || sessionData.course.toString() === courseId) {
            dateAttendance[dateKey].total++
  
            if (sessionData.attendance === 110) {
              dateAttendance[dateKey].present++
            } else if (sessionData.attendance === 111) {
              dateAttendance[dateKey].absent++
            } else if (sessionData.attendance === 225) {
              dateAttendance[dateKey].dutyLeave++
            }
          }
        }
      })
    })
  
    return dateAttendance
  }
  
  // Get attendance data for calendar view
  export function getCalendarData(courseId = "all") {
    const calendarData: Record<string, { status: string; classes: number; date: string; day: string }> = {}
  
    Object.entries(attendanceData.studentAttendanceData).forEach(([dateKey, dateData]) => {
      const dateInfo = attendanceData.attendanceDatesArray[dateKey]
      if (!dateInfo) return
  
      let present = 0
      let absent = 0
      let dutyLeave = 0
      let total = 0
  
      Object.values(dateData).forEach((sessionData) => {
        if (sessionData.course && sessionData.attendance) {
          if (courseId === "all" || sessionData.course.toString() === courseId) {
            total++
  
            if (sessionData.attendance === 110) {
              present++
            } else if (sessionData.attendance === 111) {
              absent++
            } else if (sessionData.attendance === 225) {
              dutyLeave++
            }
          }
        }
      })
  
      if (total > 0) {
        let status = "present"
        if (absent > 0) {
          status = "absent"
        } else if (dutyLeave > 0) {
          status = "duty-leave"
        }
  
        calendarData[dateKey] = {
          status,
          classes: total,
          date: dateInfo.date,
          day: dateInfo.day,
        }
      }
    })
  
    return calendarData
  }
  
  // Get daily attendance details
  export function getDailyAttendanceDetails(courseId = "all") {
    const dailyDetails: Array<{
      dateKey: string
      date: string
      day: string
      sessions: Array<{
        session: string
        course: string | null
        courseName: string | null
        status: string
      }>
    }> = []
  
    // Sort dates in descending order
    const sortedDates = Object.keys(attendanceData.studentAttendanceData).sort((a, b) => b.localeCompare(a))
  
    sortedDates.forEach((dateKey) => {
      const dateData = attendanceData.studentAttendanceData[dateKey]
      const dateInfo = attendanceData.attendanceDatesArray[dateKey]
      if (!dateInfo) return
  
      const sessions: Array<{
        session: string
        course: string | null
        courseName: string | null
        status: string
      }> = []
  
      let hasRelevantData = false
  
      Object.entries(dateData).forEach(([sessionId, sessionData]) => {
        const session = attendanceData.sessions[sessionId]
        if (!session) return
  
        let status = "no-class"
        let courseName = null
  
        if (sessionData.course && sessionData.attendance) {
          const course = attendanceData.courses[sessionData.course]
  
          if (courseId === "all" || sessionData.course.toString() === courseId) {
            hasRelevantData = true
  
            if (sessionData.attendance === 110) {
              status = "present"
            } else if (sessionData.attendance === 111) {
              status = "absent"
            } else if (sessionData.attendance === 225) {
              status = "duty-leave"
            }
  
            courseName = course ? course.name : null
          }
        }
  
        if (courseId === "all" || (sessionData.course && sessionData.course.toString() === courseId)) {
          sessions.push({
            session: session.name,
            course: sessionData.course ? sessionData.course.toString() : null,
            courseName,
            status,
          })
        }
      })
  
      if (hasRelevantData) {
        dailyDetails.push({
          dateKey,
          date: dateInfo.date,
          day: dateInfo.day,
          sessions,
        })
      }
    })
  
    return dailyDetails
  }
  